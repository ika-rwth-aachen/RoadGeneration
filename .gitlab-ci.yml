# This file is a template, and might need editing before it works on your project.
# use docker image with latex preinstalled
# since there is no official latex image, use https://github.com/blang/latex-docker
# possible alternative: https://github.com/natlownes/docker-latex
image: blang/latex

# Only one stage here, latex
stages:
  - latex

build_root:
  stage: latex
  tags:
    - docker
  script:
    - pdflatex -interaction=nonstopmode root.tex
    - bibtex root
    - pdflatex -interaction=nonstopmode root.tex
    - pdflatex -interaction=nonstopmode root.tex
  artifacts:
    paths:
      - root.pdf
    name: "newest_version"
    expire_in: 1 week
  only:
    - paper
